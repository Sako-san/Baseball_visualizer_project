<!DOCTYPE html>

<html>
    <head>
        <script type="text/javascript" src='https://d3js.org/d3.v4.min.js'></script>
    </head>

    <Body>
       <h1>Baseball Hit Visualizer</h1> 
       <div id='plot'></div>

       <script type="text/javascript">
        const w = 500, h = 500, pad = 50;

        const svg = d3.select("#plot").append("svg").attr("height", h).attr("width", w);

        const xScale = d3.scaleLinear().range([pad, w - pad]);
        const yScale = d3.scaleLinear().range([h - pad, pad]);

        let launch_speed;
        let launch_angle;


        const dataXY = d3.csv('2019-BB_Savant_Data.csv', (data) => {
            data.forEach((d) => {
                d.launch_speed = +d.launch_speed;
                d.launch_angle = +d.launch_angle;
            });

            xScale.domain(d3.extent(data, (d) => { return d.launch_speed }));
            yScale.domain([d3.min(data, (d) => { return d.launch_angle }), d3.max(data, (d) => { return d.launch_angle })]);

            svg.selectAll("circle")
                .data(data)
                .enter()
                .append("circle")
                .attr("cx", (d) => {
                    return xScale(d.launch_speed);
                })
                .attr("cy", (d) => {
                    return yScale(d.launch_angle);
                })
                .attr("r", (d) => {
                    return 3;
                })
                .attr("fill", "#00aa88");

            svg.append("g")
                .attr("class", "axis")
                .attr("transform", "translate(0," + (h - pad) + ")")
                .call(d3.axisBottom(xScale));

            svg.append("g")
                .attr("class", "axis")
                .attr("transform", "translate(" + pad + ", 0)")
                .call(d3.axisLeft(yScale));
        });
    </script>
    </Body>

</html>